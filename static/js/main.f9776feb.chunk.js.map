{"version":3,"sources":["components/Navigation.js","components/maps/MapTile.js","components/maps/Utils.js","components/maps/Scale.js","components/maps/Canvas.js","components/maps/CoordinatesForm.js","components/maps/PlaceResult.js","components/maps/PlaceForm.js","components/maps/index.js","components/dice/Dice.js","components/dice/DiceForm.js","components/dice/Roll.js","components/dice/RollHistory.js","components/dice/RollStats.js","components/dice/index.js","components/Experiments.js","components/dcdl/index.js","components/dcdl/NumbersForm.js","components/dcdl/NumbersHistory.js","components/dcdl/Time.js","components/dcdl/Numbers.js","components/procedural/index.js","components/cv/Competence.js","components/cv/index.js","components/IsItFive.js","components/yahtzee/Connect.js","components/yahtzee/Roll.js","components/yahtzee/Score.js","components/yahtzee/index.js","components/NotFound.js","components/App.js","keymap.js","index.js"],"names":["Navigation","Navbar","Header","Brand","Link","to","Toggle","Collapse","Nav","NavItem","React","Component","MapTile","props","state","image","window","Image","setAttribute","onload","setState","src","this","Utils","latitude","longitude","siny","Math","sin","PI","min","max","log","pixels","asin","tanh","zoom","scale","pow","center","toPixels","ne","toCoordinates","sw","row","col","key","image_size_cropped","x","g_scale","y","width","height","crop","lat","lon1","lon2","abs","cos","nw","north","west","se","south","east","n","w","area","round","log2","tile_size","images","undefined","baseZoom","s","e","latPixels","longPixels","latLong","push","imageProps","Scale","scales","i","target_width","length","distance","text","findScale","h","opacity","fill","points","strokeWidth","stroke","fontSize","Canvas","map","defaultProps","floatRe","RegExp","CoordinatesForm","handleChange","bind","ids","_this","every","id","find","test","computeImages","changeState","valid","event","value","target","parseInt","parseFloat","checkValid","onSubmit","preventDefault","Form","horizontal","handleSubmit","FormGroup","validationState","getValidationState","Col","componentClass","ControlLabel","sm","FormControl","type","placeholder","onChange","Button","bsStyle","style","disabled","smOffset","HelpBlock","className","PlaceResult","place","desc","PlaceForm","multiple","isLoading","options","places","google","maps","Geocoder","geocode","placeId","place_id","result","res","geometry","viewport","getNorthEast","lng","getSouthWest","query","AutocompleteService","getPlacePredictions","input","types","p","description","minLength","delay","filterBy","labelKey","onSearch","handleSearch","selectPlace","renderMenuItemChildren","option","Maps","Grid","Row","Dice","onClick","backgroundColor","color","val","DiceForm","sides","deleteDice","addDice","ButtonToolbar","dices","dice","inline","maxWidth","display","OverlayTrigger","trigger","placement","overlay","Popover","hex","Roll","roll","floor","random","rolls","blocked","RollHistory","_","j","RollStats","real","expected","data","0","firstDiceSides","expectedRest","slice","first","total","forEach","graphData","dataKey","label","position","dy","angle","dx","formatter","rounded_rate","DiceIndex","unshift","resetRolls","idx","splice","md","Table","condensed","Experiments","xs","title","url","content","page","Panel","history","Heading","Title","Body","alt","Dcdl","href","rel","NumbersForm","numbers","number","toggleNumber","active","ops","op","toggleOp","NumbersHistory","success","cancelLast","Time","ratio","initial","borderRadius","marginTop","padding","backgroundImage","margin","textAlign","verticalAlign","minWidth","minHeight","ceil","Numbers","sortNumbers","randomNumbers","randomTarget","defaultOps","solution","showSolution","start","Date","timeLeft","totalTime","clearInterval","timerId","setInterval","fetch","method","body","JSON","stringify","then","r","json","sol","catch","err","console","warn","init","left","last","shift","findIndex","submitOperation","Object","assign","activeOps","filter","activeNumbers","num","newVal","a","b","newNumbers","nums","sort","action","match","replace","name","handler","_handleShortcuts","targetNodeSelector","marginRight","in","Procedural","innerWidth","innerHeight","alpha","splits","stringDensity","borderWidth","innerBorderWidth","stringsWidth","changeAndCompute","grid","shapes","insertPoint","split","shape","c","point","sqrt","maxLength","d","l","acos","density","count","randomColor","Array","el","strokeLinearGradientColorStops","strokeLinearGradientStartPoint","strokeLinearGradientEndPoint","lg","fluid","strings","string","flat","closed","Competence","percent","paddingRight","paddingLeft","innerRadius","outerRadius","rotation","dangerouslySetInnerHTML","__html","translations","fr","en","Cv","Blowfish","decrypt","atob","bf","lang","document","values","queryString","parse","location","search","picture","validKey","address","line","icon","faHome","faPhone","phoneNumber","faAt","email","faGithub","github","pitch","languages","item","skills","pro_exp","items","company","date","bullets","bullet","education","school","interests","Fragment","IsItFive","timerID","tick","getHours","Connect","players","score","join","wsClient","send","nextProps","currentRoll","currentPlayer","me","cur","Score","numbersTotal","player","reduce","acc","numbersBonus","numbersGrandTotal","downTotal","grandTotal","scoreFor","cat","includes","cell","played","keys","lastCell","striped","bordered","border","Yahtzee","addPlayer","W3CWebSocket","onerror","onmessage","message","onclose","reload","NotFound","shortcutManager","ShortcutManager","cancel","number0","number1","number2","number3","number4","number5","op0","op1","op2","op3","hostname","Sentry","dsn","App","error","errorInfo","scope","setExtra","shortcuts","Switch","Route","exact","path","component","childContextTypes","PropTypes","object","isRequired","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f9776feb.chunk.js","sourcesContent":["import React from 'react';\nimport { Nav, Navbar, NavItem } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nexport default class Navigation extends React.Component {\n  render() {\n    return (\n      <Navbar>\n        <Navbar.Header>\n          <Navbar.Brand>\n            <Link to=\"/\">TDeo</Link>\n          </Navbar.Brand>\n          <Navbar.Toggle />\n        </Navbar.Header>\n        <Navbar.Collapse>\n          <Nav>\n            <LinkContainer to=\"/experiments\">\n              <NavItem>\n                Experiments\n              </NavItem>\n            </LinkContainer>\n            <LinkContainer to=\"/cv\">\n              <NavItem>\n                CV\n              </NavItem>\n            </LinkContainer>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Image } from 'react-konva';\n\nexport default class MapTile extends React.Component {\n  static propTypes = {\n    src: PropTypes.string,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: null\n    };\n  }\n\n  componentDidMount() {\n    const image = new window.Image();\n    image.setAttribute('crossOrigin', 'anonymous');\n    image.onload = () => {\n      this.setState({ image: image });\n    };\n    image.src = this.props.src;\n  }\n\n  render() {\n    return (\n      <Image\n        image={this.state.image}\n        {...this.props}\n      />\n    );\n  }\n}\n","const api_key = 'AIzaSyAzvgVkGFZNr19zI1nsYo0teQqcgBAIfoU';\nconst image_size = 532;\nconst image_size_cropped = 512;\n// const zoom = 12;\n// const max_zoom = 20;\nconst R_EARTH = 6378.1370; // In km\nconst tile_size = 256;\nconst g_scale = image_size_cropped / tile_size;\n\n// const canvas = document.getElementById(\"canvas\");\n// const context = canvas.getContext(\"2d\");\n\nexport default class Utils {\n  static toPixels(latitude, longitude) {\n    var siny = Math.sin(latitude * Math.PI / 180);\n    siny = Math.min(Math.max(siny, -0.9999), 0.9999);\n    return [\n      tile_size * (0.5 + longitude / 360),\n      tile_size * (0.5 - Math.log((1 + siny) / (1 - siny)) / (4 * Math.PI)),\n    ];\n  }\n\n  static toCoordinates(pixels) {\n    return [\n      Math.asin(Math.tanh(2 * Math.PI * (0.5 - pixels[1] / tile_size))) * 180 / Math.PI,\n      360 * (pixels[0] / tile_size - 0.5),\n    ];\n  }\n\n  static computeCorners(latitude, longitude, zoom) {\n    var scale = Math.pow(2, zoom);\n    var center = this.toPixels(latitude, longitude);\n    var ne = this.toCoordinates([center[0] + image_size_cropped / (2.0 * scale), center[1] - image_size_cropped / (2.0 * scale)]);\n    var sw = this.toCoordinates([center[0] - image_size_cropped / (2.0 * scale), center[1] + image_size_cropped / (2.0 * scale)]);\n    return {\n      'N': ne[0],\n      'E': ne[1],\n      'S': sw[0],\n      'W': sw[1],\n    };\n  }\n\n  static imageProps(latitude, longitude, zoom, row, col) {\n    return {\n      key: `${latitude},${longitude},${zoom}`,\n      src: 'https://maps.googleapis.com/maps/api/staticmap?' +\n        `zoom=${zoom}` +\n        `&scale=${g_scale}` +\n        `&size=${image_size}x${image_size}` +\n        '&maptype=satellite' +\n        `&center=${latitude},${longitude}` +\n        `&key=${api_key}`,\n      x: g_scale * image_size_cropped * col,\n      y: g_scale * image_size_cropped * row,\n      width: g_scale * image_size_cropped,\n      height: g_scale * image_size_cropped,\n      crop: {\n        x: 0,\n        y: 0,\n        width: g_scale * image_size_cropped,\n        height: g_scale * image_size_cropped,\n      }\n    };\n  }\n\n  static distance(lat, lon1, lon2) { // In km\n    return Math.abs(lon1 - lon2) * Math.PI / 360 * R_EARTH * Math.cos(lat * Math.PI / 180);\n  }\n\n  static baseZoom(props) {\n    var nw = this.toPixels(props.north, props.west);\n    var se = this.toPixels(props.south, props.east);\n    var n = nw[1];\n    var w = nw[0];\n    var s = se[1];\n    var e = se[0];\n\n    var area = (s - n) * (e - w);\n\n    return Math.round(Math.log2(tile_size * tile_size * 9 / area) / 2);\n  }\n\n  static computeImages(props) {\n    var images = [];\n\n    var zoom = props.zoom;\n    if (zoom === undefined) {\n      zoom = this.baseZoom(props);\n    }\n\n    var nw = this.toPixels(props.north, props.west);\n    var se = this.toPixels(props.south, props.east);\n    var n = nw[1] * Math.pow(2, zoom);\n    var w = nw[0] * Math.pow(2, zoom);\n    var s = se[1] * Math.pow(2, zoom);\n    var e = se[0] * Math.pow(2, zoom);\n\n    var latPixels = n + g_scale * tile_size / 2;\n    var row = 0;\n    while (latPixels <= s + g_scale * tile_size / 2) {\n      var longPixels = w + g_scale * tile_size / 2;\n      var col = 0;\n      while (longPixels <= e + g_scale * tile_size / 2) {\n        var latLong = this.toCoordinates([longPixels / Math.pow(2, zoom), latPixels / Math.pow(2, zoom)]);\n        images.push(this.imageProps(latLong[0], latLong[1], zoom, row, col));\n        longPixels += g_scale * tile_size;\n        col += 1;\n      }\n      latPixels += g_scale * tile_size;\n      row += 1;\n    }\n\n    return {\n      images: images,\n      width: g_scale * (e - w),\n      height: g_scale * (s - n),\n      north: props.north,\n      west: props.west,\n      south: props.south,\n      east: props.east,\n      zoom: zoom,\n    };\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Layer, Rect, Line, Text } from 'react-konva';\n\nimport Utils from './Utils';\n\nexport default class Scale extends React.Component {\n  static propTypes = {\n    south: PropTypes.number,\n    east: PropTypes.number,\n    west: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  };\n\n  findScale() {\n    // Get the maximum scale below 500 pixels or 20% of page\n    var scales = [\n      ['50m', 0.05],\n      ['100m', 0.1],\n      ['200m', 0.2],\n      ['500m', 0.5],\n      ['1km', 1],\n      ['2km', 2],\n      ['5km', 5],\n      ['10km', 10],\n      ['20km', 20],\n      ['50km', 50],\n      ['100km', 100],\n      ['200km', 200],\n      ['500km', 500],\n    ];\n    var i = 0;\n    var target_width = Math.max(500, 0.2 * this.props.width);\n    while ((i < scales.length - 1) && (Utils.distance(this.props.south, this.props.west, this.props.east) * target_width / this.props.width > scales[i][1])) {\n      i += 1;\n    }\n    return {\n      width: this.props.width * scales[i][1] / Utils.distance(this.props.south, this.props.west, this.props.east),\n      text: scales[i][0],\n    };\n  }\n\n  render() {\n    var scale = this.findScale();\n    var h = this.props.height;\n    var w = scale.width;\n\n    return (\n      <Layer>\n        <Rect x={0} y={h - 50} width={w + 100} height={50} opacity={0.5} fill='white' />\n        <Line points={[10,h - 40,  10,h - 10,  w + 10,h - 10,  w + 10,h - 40]} strokeWidth={3} stroke='black' />\n        <Text x={w + 20} y={h - 40} fontSize={30} text={scale.text} />\n      </Layer>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Layer, Stage } from 'react-konva';\n\nimport './Canvas.css';\nimport MapTile from './MapTile';\nimport Scale from './Scale';\n\nexport default class Canvas extends React.Component {\n  static defaultProps = {\n    width: 0,\n    height: 0,\n    images: [],\n  };\n\n  static propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    images: PropTypes.arrayOf(PropTypes.shape({\n      key: PropTypes.string,\n      src: PropTypes.string,\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number,\n      crop: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number,\n        width: PropTypes.number,\n        height: PropTypes.number,\n      })\n    })),\n  };\n\n  render() {\n    return (\n      <Stage\n        width={this.props.width}\n        height={this.props.height} >\n        <Layer>\n          {this.props.images.map((image) =>\n            <MapTile key={image.key} {...image}/>\n          )}\n        </Layer>\n        <Scale {...this.props} />\n      </Stage>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Col, ControlLabel, Form, FormControl, FormGroup, HelpBlock } from 'react-bootstrap';\n\nimport Utils from './Utils';\n\nconst floatRe = RegExp('^\\\\s*\\\\-?\\\\d+(.\\\\d*)?\\\\s*$');\n\nexport default class CoordinatesForm extends React.Component {\n  static propTypes = {\n    south: PropTypes.number,\n    north: PropTypes.number,\n    west: PropTypes.number,\n    east: PropTypes.number,\n    zoom: PropTypes.number,\n    onSubmit: PropTypes.func,\n    changeState: PropTypes.func,\n    valid: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  getValidationState(ids) {\n    var _this = this;\n    if (ids.every(function(id) {\n      return _this.props[id] === '';\n    })) {\n      return null;\n    }\n    if (ids.find(function(id) {\n      return !floatRe.test(_this.props[id]);\n    })) {\n      return 'error';\n    }\n    return 'success';\n  }\n\n  checkValid() {\n    // There are browser limitations on Canvas sizes, we're going to check that\n    // so that the thing doesn't crash.\n    // See https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\n    // This is going to enable / disable the submit button.\n    var images = Utils.computeImages(this.props);\n    if ((images.width > 16383) || (images.height > 16383) || (images.width * images.height > 8192 * 8192)) {\n      this.props.changeState({ valid: false });\n    } else {\n      this.props.changeState({ valid: true });\n    }\n  }\n\n  handleChange(event) {\n    var value = (event.target.id === 'zoom') ? parseInt(event.target.value, 10) : parseFloat(event.target.value);\n    this.props.changeState(\n      { [event.target.id]: value },\n      this.checkValid.bind(this),\n    );\n  }\n\n  handleSubmit(event) {\n    this.props.onSubmit(this.props);\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <Form horizontal onSubmit={this.handleSubmit.bind(this)}>\n        <FormGroup validationState={this.getValidationState(['south', 'north'])}>\n          <Col componentClass={ControlLabel} sm={3}>\n            <ControlLabel>Latitude</ControlLabel>\n          </Col>\n          <Col sm={3}>\n            <FormControl\n              id=\"south\"\n              type=\"text\"\n              value={this.props.south}\n              placeholder=\"South latitude\"\n              onChange={this.handleChange}\n            />\n          </Col>\n          <Col sm={3}>\n            <FormControl\n              id=\"north\"\n              type=\"text\"\n              value={this.props.north}\n              placeholder=\"North latitude\"\n              onChange={this.handleChange}\n            />\n          </Col>\n        </FormGroup>\n\n        <FormGroup validationState={this.getValidationState(['west', 'east'])}>\n          <Col componentClass={ControlLabel} sm={3}>\n            <ControlLabel>Longitude</ControlLabel>\n          </Col>\n          <Col sm={3}>\n            <FormControl\n              id=\"west\"\n              type=\"text\"\n              value={this.props.west}\n              placeholder=\"West longitude\"\n              onChange={this.handleChange}\n            />\n          </Col>\n          <Col sm={3}>\n            <FormControl\n              id=\"east\"\n              type=\"text\"\n              value={this.props.east}\n              placeholder=\"East longitude\"\n              onChange={this.handleChange}\n            />\n          </Col>\n        </FormGroup>\n\n        <FormGroup>\n          <Col componentClass={ControlLabel} sm={3}>\n            <ControlLabel>Detail level</ControlLabel>\n          </Col>\n          <Col sm={3}>\n            <FormControl\n              id=\"zoom\"\n              type=\"number\"\n              min=\"1\"\n              max=\"21\"\n              value={this.props.zoom}\n              placeholder=\"Detail level\"\n              onChange={this.handleChange}\n            />\n          </Col>\n          <Col sm={3}>\n            <Button bsStyle=\"primary\" type=\"submit\" style={{ width: '100%' }}\n              disabled={!this.props.valid}>\n              Submit\n            </Button>\n          </Col>\n        </FormGroup>\n\n        {this.props.valid || <FormGroup id=\"canvas-size-alert\">\n          <Col sm={7} smOffset={2}>\n            <HelpBlock className=\"alert alert-danger\">\n              The image you&apos;re trying to generate is too big and is going to crash the browser, please lower detail level value.\n            </HelpBlock>\n          </Col>\n        </FormGroup>}\n      </Form>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class PlaceResult extends React.Component {\n  static propTypes = {\n    place: PropTypes.shape({\n      desc: PropTypes.string,\n    }),\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.place.desc}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, ControlLabel, Form, FormGroup } from 'react-bootstrap';\nimport { AsyncTypeahead } from 'react-bootstrap-typeahead';\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\n\nimport PlaceResult from './PlaceResult';\n\nexport default class PlaceForm extends React.Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      multiple: false,\n      isLoading: false,\n      options: [],\n    };\n  }\n\n  selectPlace(places) {\n    var place = places[0];\n    if (place === undefined) {\n      return;\n    }\n    (new window.google.maps.Geocoder()).geocode(\n      { placeId: place.place_id },\n      (result) => {\n        var res = result[0];\n        this.props.onSubmit({\n          north: res.geometry.viewport.getNorthEast().lat(),\n          east: res.geometry.viewport.getNorthEast().lng(),\n          south: res.geometry.viewport.getSouthWest().lat(),\n          west: res.geometry.viewport.getSouthWest().lng(),\n        });\n      }\n    );\n  }\n\n  handleSearch(query) {\n    this.setState({ isLoading: true });\n    (new window.google.maps.places.AutocompleteService()).getPlacePredictions(\n      { input: query, types: ['geocode'] },\n      (places) => {\n        var res = places.map((p) => {\n          return { place_id: p.place_id, desc: p.description };\n        });\n        this.setState({ isLoading: false, options: res });\n      }\n    );\n  }\n\n  render() {\n    return (\n      <Form horizontal>\n        <FormGroup>\n          <Col componentClass={ControlLabel} sm={3}>\n            <ControlLabel>Search place</ControlLabel>\n          </Col>\n          <Col sm={6}>\n            <AsyncTypeahead\n              {...this.state}\n              id=\"locationSearch\"\n              minLength={3}\n              delay={200}\n              filterBy={() => {\n                return true;\n              }}\n              labelKey={'desc'}\n              onSearch={this.handleSearch.bind(this)}\n              onChange={this.selectPlace.bind(this)}\n              placeholder=\"Search for a place...\"\n              renderMenuItemChildren={(option) => {\n                return (\n                  <PlaceResult key={option.place_id} place={option} />\n                );\n              }}\n            />\n          </Col>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\n","import React from 'react';\nimport { Col, Grid, Row } from 'react-bootstrap';\n\nimport Canvas from './Canvas';\nimport CoordinatesForm from './CoordinatesForm';\nimport PlaceForm from './PlaceForm';\nimport Utils from './Utils';\n\nexport default class Maps extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      south: 52.360052,\n      north: 52.382052,\n      west: 4.877190,\n      east: 4.916190,\n      zoom: 15,\n      images: [],\n      valid: true,\n    };\n  }\n\n  onSubmit(props) {\n    this.setState(Utils.computeImages(props));\n  }\n\n  render() {\n    return (\n      <div className=\"maps\">\n        <Grid>\n          <Row>\n            <Col sm={12}>\n              <h1>Google Maps HD</h1>\n              This combines together a number of Google Maps images to generate a (very) high resolution image\n              of a portion of the Earth.\n            </Col>\n          </Row>\n          <br />\n          <Row>\n            <Col sm={12}>\n              <PlaceForm onSubmit={this.onSubmit.bind(this)} />\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={12}>\n              <CoordinatesForm {...this.state} changeState={this.setState.bind(this)} onSubmit={this.onSubmit.bind(this)} />\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={12}>\n              <Canvas {...this.state} />\n            </Col>\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'react-bootstrap';\n\nimport './Dice.css';\n\nexport default class Dice extends React.Component {\n  static propTypes = {\n    color: PropTypes.string,\n    val: PropTypes.node,\n    value: PropTypes.node,\n    onClick: PropTypes.func,\n  }\n\n  render() {\n    return (\n      <Button className=\"dice\" onClick={this.props.onClick} value={this.props.value} style={{ backgroundColor: this.props.color }}>\n        {this.props.val}{' '}\n      </Button>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ButtonToolbar, Form, FormControl, Popover, OverlayTrigger } from 'react-bootstrap';\nimport { SwatchesPicker } from 'react-color';\n\nimport Dice from './Dice';\n\nexport default class DiceForm extends React.Component {\n  state = {\n    sides: 6,\n    color: '#f2f2f2',\n  }\n\n  static propTypes = {\n    deleteDice: PropTypes.func,\n    addDice: PropTypes.func,\n    dices: PropTypes.arrayOf(PropTypes.shape({\n      sides: PropTypes.number,\n    })),\n  }\n\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.deleteDice = this.deleteDice.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({ [event.target.id]: event.target.value });\n  }\n\n  handleSubmit(event) {\n    this.props.addDice(this.state.sides, this.state.color);\n    event.preventDefault();\n  }\n\n  deleteDice(event) {\n    this.props.deleteDice(event.target.value);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          Current dices (click to remove):\n          <ButtonToolbar>\n            {this.props.dices.map((dice, i) => {\n              return (\n                <Dice key={i} onClick={this.deleteDice} value={i}\n                  val={dice.sides} color={dice.color} />\n              );\n            })}\n          </ButtonToolbar>\n        </div>\n\n        <div>\n          <Form inline onSubmit={this.handleSubmit}>\n            Add a dice with{' '}\n            <FormControl\n              style={{ maxWidth: '60px', display: 'inline-block' }}\n              id=\"sides\"\n              type=\"number\"\n              min=\"1\"\n              max=\"99\"\n              value={this.state.sides}\n              onChange={this.handleChange}/>{' '}\n            sides and color{' '}\n            <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={\n              <Popover id=\"color-picker-popover\">\n                <SwatchesPicker width=\"100%\" color={this.state.color} onChange={(color) => this.setState({ color: color.hex })} />\n              </Popover>\n            }>\n              <Dice val=\"?\" color={this.state.color}/>\n            </OverlayTrigger>\n            {' '}:{' '}\n            <Button bsStyle=\"primary\" type=\"submit\">Add</Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'react-bootstrap';\n\nimport Dice from './Dice';\n\nexport default class Roll extends React.Component {\n  static propTypes = {\n    roll: PropTypes.func,\n    dices: PropTypes.arrayOf(PropTypes.shape({\n      sides: PropTypes.number,\n      lastRoll: PropTypes.number,\n    })),\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dices: this.props.dices,\n    };\n    this.roll = this.roll.bind(this);\n  }\n\n  randomValues() {\n    return this.state.dices.map((dice) => {\n      return 1 + Math.floor(Math.random() * dice.sides);\n    });\n  }\n\n  roll() {\n    // this.setState({ blocked: true });\n    this.props.roll();\n    // setTimeout(() => {\n    //   this.setState({ blocked: false });\n    // }, 1);\n  }\n\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.state.dices.map((dice, i) => {\n            return (\n              <td key={`${dice.sides},${i}`}>\n                <Dice val={dice.rolls.length > 0 ? dice.rolls[0] : '?'} color={dice.color} />\n              </td>\n            );\n          })}\n          <td>\n            <Button bsStyle=\"primary\" onClick={this.roll} disabled={this.state.blocked}>\n              Roll!\n            </Button>\n          </td>\n        </tr>\n      </thead>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class RollHistory extends React.Component {\n  static propTypes = {\n    dices: PropTypes.arrayOf(PropTypes.shape({\n      sides: PropTypes.number,\n      rolls: PropTypes.arrayOf(PropTypes.number),\n    })),\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dices: this.props.dices,\n    };\n  }\n\n  render() {\n    return (\n      <tbody className=\"hidden-xs\">\n        {(this.state.dices.length > 0) && this.state.dices[0].rolls.map((_, i) => {\n          if (i === 0 || i > 10) {\n            return null;\n          }\n          return (\n            <tr key={i}>\n              {this.state.dices.map((dice, j) => {\n                return (\n                  <td key={`${i},${j}`}>\n                    {dice.rolls[i]}\n                  </td>\n                );\n              })}\n            </tr>\n          );\n        })}\n\n        {(this.state.dices.length > 0) && (this.state.dices[0].rolls.length > 10) &&\n          <tr>\n            {this.state.dices.map((dice, j) => {\n              return (\n                <td key={`...,${j}`}>\n                  ...\n                </td>\n              );\n            })}\n          </tr>\n        }\n      </tbody>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Bar, CartesianGrid, ComposedChart, Legend, Line, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\n\nexport default class RollStats extends React.Component {\n  static propTypes = {\n    dices: PropTypes.arrayOf(PropTypes.shape({\n      sides: PropTypes.number,\n      lastRoll: PropTypes.number,\n    })),\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = { dices: this.props.dices };\n  }\n\n  graphData() {\n    var real = this.real();\n    var expected = this.expected(this.state.dices);\n    var data = [];\n    for (var val in expected) {\n      data.push({\n        value: val,\n        real: real[val] || 0,\n        expected: expected[val],\n      });\n    }\n    return data;\n  }\n\n  expected(dices) {\n    if (dices.length === 0) {\n      return { 0: 1 };\n    }\n    var firstDiceSides = dices[0].sides;\n    var result = {};\n    var expectedRest = this.expected(dices.slice(1));\n    for (var val in expectedRest) {\n      val = parseInt(val, 10);\n      for (var first = 1; first <= firstDiceSides; first++) {\n        if (result[first + val] === undefined) {\n          result[first + val] = 0;\n        }\n        result[first + val] += expectedRest[val] / firstDiceSides;\n      }\n    }\n    return result;\n  }\n\n  real() {\n    var result = {};\n    var total = 0;\n    if (this.state.dices.length === 0) {\n      return result;\n    }\n    this.state.dices[0].rolls.forEach((_, i) => {\n      total++;\n      var value = 0;\n      this.state.dices.forEach((dice) => {\n        value += dice.rolls[i];\n      });\n      result[value] |= 0;\n      result[value]++;\n    });\n    for (var val in result) {\n      result[val] /= total;\n    }\n    return result;\n  }\n\n  render() {\n    const graphData = this.graphData();\n    return (\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <ComposedChart data={graphData} width={500} height={300}>\n          <CartesianGrid />\n          <XAxis dataKey=\"value\" label={{ value: 'Dice sum', position: 'insideBottomRight', dy: 10 }}/>\n          <YAxis label={{ value: 'Frequency', angle: -90, position: 'insideLeft', dx: 0, dy: 30 }}/>\n          <Tooltip formatter={(value) => {\n            var rounded_rate = Math.round(1000 * value) / 1000;\n            return `${rounded_rate} (${Math.round(this.state.dices[0].rolls.length * rounded_rate)} rolls)`;\n          }}/>\n          <Legend />\n          <Bar dataKey=\"real\" fill='#33b1ff' />\n          <Line type=\"monotone\" dataKey=\"expected\" stroke='#ff7300'/>\n        </ComposedChart>\n      </ResponsiveContainer>\n    );\n  }\n}\n","import React from 'react';\nimport { Col, Grid, Row, Table } from 'react-bootstrap';\n\nimport DiceForm from './DiceForm';\nimport Roll from './Roll';\nimport RollHistory from './RollHistory';\nimport RollStats from './RollStats';\n\nexport default class DiceIndex extends React.Component {\n  state = {\n    dices: [{\n      sides: 6,\n      rolls: [],\n    }],\n    sides: 6,\n  };\n\n  resetRolls() {\n    let dices = this.state.dices;\n    for (let i = 0; i < dices.length; i++) {\n      dices[i].rolls = [];\n    }\n    this.setState({ dices: dices });\n  }\n\n  roll = () => {\n    let dices = this.state.dices;\n    for (let i = 0; i < dices.length; i++) {\n      dices[i].rolls.unshift(1 + Math.floor(Math.random() * dices[i].sides));\n    }\n    this.setState({ dices: this.state.dices });\n  }\n\n  addDice = (sides, color) => {\n    this.state.dices.push({ sides, color });\n    this.resetRolls();\n    this.setState({ dices: this.state.dices });\n  }\n\n  deleteDice = (idx) => {\n    this.state.dices.splice(idx, 1);\n    this.resetRolls();\n    this.setState({ dices: this.state.dices });\n  }\n\n  render() {\n    return (\n      <Grid>\n        <Row>\n          <Col sm={12}>\n            <h1>Dice</h1>\n            Dice simulator, contains statistics to check for bias.\n          </Col>\n        </Row>\n        <br />\n        <Row>\n          <Col sm={12}>\n            <DiceForm {...this.state} deleteDice={this.deleteDice} addDice={this.addDice}/>\n          </Col>\n        </Row>\n        <br />\n        <Row>\n          <Col sm={6} md={4}>\n            <Table condensed className=\"text-center\" style={{ width: 'initial' }}>\n              <Roll dices={this.state.dices} roll={this.roll} />\n              <RollHistory dices={this.state.dices} />\n            </Table>\n          </Col>\n          <Col sm={6} md={8}>\n            <RollStats dices={this.state.dices} />\n          </Col>\n        </Row>\n      </Grid>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Grid, Row, Panel } from 'react-bootstrap';\n\nexport default class Experiments extends React.Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      push: PropTypes.func,\n    }),\n  }\n\n  render() {\n    const pages = [\n      {\n        title: 'Triangular art',\n        url: '/procedural',\n        content: 'Random generation of colorful geometric images with triangular shapes',\n        image: '/images/triangular.png',\n      },\n      {\n        title: 'Get the number',\n        url: '/dcdl/numbers',\n        content: 'Copy of a french TV game, you need to get to a result given 6 initial numbers and the 4 elementary operations',\n        image: '/images/numbers.png',\n      },\n      {\n        title: 'Dices',\n        url: '/dice',\n        content: 'Dice simulator created for playing games, keeps track of the throws outcome and compares it' +\n          ' to the theoretical distribution.',\n        image: '/images/dice.png',\n      },\n      {\n        title: 'Maps HD',\n        url: '/maps',\n        content: 'Creates a satellite map of a region by re-aggregating different satellite images together.',\n      },\n    ];\n\n    return (\n      <Grid>\n        <Row>\n          <Col xs={12} sm={8} smOffset={2}>\n            <h5>\n              This is a collection of project / ideas / services that I put together on various occasions. They range from\n              a pure learning opportunity to making something useful for a friend.\n            </h5>\n          </Col>\n          {pages.map((page, i) => {\n            return (\n              <Col xs={12} sm={4} key={i}>\n                <Panel bsStyle=\"info\" onClick={() => {\n                  this.props.history.push(page.url);\n                }}>\n                  <Panel.Heading>\n                    <Panel.Title componentClass=\"h3\">\n                      {page.title}\n                    </Panel.Title>\n                  </Panel.Heading>\n                  <Panel.Body>\n                    {page.content}\n                  </Panel.Body>\n                  {page.image &&\n                    <Panel.Body>\n                      <img src={page.image} width=\"100%\" alt=\"\"/>\n                    </Panel.Body>\n                  }\n                </Panel>\n              </Col>\n            );\n          })}\n        </Row>\n      </Grid>\n    );\n  }\n}\n","import React from 'react';\nimport { Col, Grid, Row } from 'react-bootstrap';\n\nexport default class Dcdl extends React.Component {\n  render() {\n    return (\n      <div>\n        <Grid>\n          <Row>\n            <Col sm={12}>\n              <h1>Des chiffres et des lettres</h1>\n            </Col>\n            <Col sm={12}>\n              This is a french TV game (\n              <a href=\"https://en.wikipedia.org/wiki/Des_chiffres_et_des_lettres\" target=\"_blank\" rel=\"noopener noreferrer\">wikipedia</a>\n              ) in which two candidates play against each other to solve either word or numbers challenges.\n              This is a single-player game simulator for it.\n              <br />\n            </Col>\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ButtonToolbar } from 'react-bootstrap';\n\nexport default class NumbersForm extends React.Component {\n  static propTypes = {\n    numbers: PropTypes.arrayOf(PropTypes.shape({\n      value: PropTypes.number,\n      active: PropTypes.boolean\n    })),\n    ops: PropTypes.arrayOf(PropTypes.shape({\n      op: PropTypes.string,\n      active: PropTypes.boolean\n    })),\n    toggleNumber: PropTypes.func,\n    toggleOp: PropTypes.func,\n  };\n\n  render() {\n    return (\n      <div>\n        <ButtonToolbar>\n          {this.props.numbers.map((number, i) => {\n            return (\n              <Button key={i} onClick={this.props.toggleNumber} value={i} bsStyle={number.active ? 'warning' : 'default'}>\n                {number.value}\n              </Button>\n            );\n          })}\n          {this.props.ops.map((op, i) => {\n            return (\n              <Button key={i} onClick={this.props.toggleOp} bsStyle={op.active ? 'warning' : 'info' } value={i}>\n                {op.op}\n              </Button>\n            );\n          })}\n        </ButtonToolbar>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'react-bootstrap';\n\nexport default class NumbersHistory extends React.Component {\n  static propTypes = {\n    history: PropTypes.arrayOf(PropTypes.shape({\n      a: PropTypes.number,\n      b: PropTypes.number,\n      op: PropTypes.string,\n      res: PropTypes.number,\n    })),\n    cancelLast: PropTypes.func,\n    success: PropTypes.bool,\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.history.map((op, i) => {\n          return (\n            <pre key={i}>\n              {Math.max(op.i, op.j)} {op.op} {Math.min(op.i, op.j)} = {op.res}{'  '}\n              { (i === 0 && !this.props.success) &&\n                <Button bsStyle=\"danger\" onClick={this.props.cancelLast}>\n                  Cancel\n                </Button>\n              }\n            </pre>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Time extends React.Component {\n  static propTypes = {\n    value: PropTypes.number,\n    initial: PropTypes.number,\n  };\n\n  render() {\n    var ratio = this.props.value / this.props.initial;\n    var color = 'green';\n    if (ratio < 0.15) {\n      color = 'red';\n    } else if (ratio < 0.3) {\n      color = 'orange';\n    }\n    ratio = Math.max(0, Math.min(1, ratio));\n    var i = (1 - ratio) * 360;\n    i = Math.max(0, Math.min(360, i));\n\n    if (!this.props.value) {\n      return null;\n    }\n\n    return (\n      <div style={{\n        borderRadius: '100%',\n        width: 'fit-content',\n        marginTop: '20px',\n        padding: '5px',\n        backgroundImage: (i <= 180) ?\n          `linear-gradient(${90 + i}deg, transparent 50%, ${color} 50%),linear-gradient(90deg, ${color} 50%, transparent 50%)` :\n          `linear-gradient(${i - 90}deg, transparent 50%, #fff 50%),linear-gradient(90deg, ${color} 50%, transparent 50%)`,\n      }}>\n        <h2 style={{\n          color: color,\n          padding: '10px',\n          margin: 0,\n          textAlign: 'center',\n          verticalAlign: 'middle',\n          minWidth: '1.8em',\n          minHeight: '1em',\n          borderRadius: '100%',\n          backgroundColor: '#fff',\n          width: 'fit-content' }}>\n          {Math.ceil(this.props.value)}\n        </h2>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Button, Col, Collapse, Grid, Row } from 'react-bootstrap';\nimport { Shortcuts } from 'react-shortcuts';\n\nimport NumbersForm from './NumbersForm';\nimport NumbersHistory from './NumbersHistory';\nimport Time from './Time';\n\nimport Dcdl from './';\n\nexport default class Numbers extends React.Component {\n  init() {\n    let state = {\n      numbers: this.sortNumbers(this.randomNumbers()),\n      target: this.randomTarget(),\n      success: false,\n      ops: this.defaultOps(),\n      solution: [],\n      showSolution: false,\n      history: [],\n      start: new Date(),\n      timeLeft: 40,\n      totalTime: 40,\n    };\n    this.setState(state);\n\n    clearInterval(this.timerId);\n    this.timerId = setInterval(this.timeLeft.bind(this), 50);\n\n    fetch('https://dcdl.herokuapp.com/solve', {\n      method: 'POST',\n      body: JSON.stringify({\n        target: state.target,\n        numbers: state.numbers.map(n => n.value),\n      })\n    }).then(r => r.json()).then(sol => {\n      this.setState({ solution: sol });\n    }).catch(err => {\n      console.warn(err);\n    });\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerId);\n  }\n\n  timeLeft() {\n    var left = this.state.totalTime - (new Date() - this.state.start) / 1000;\n    this.setState({ timeLeft: left });\n  }\n\n  cancelLast() {\n    if (this.state.history.length === 0) {\n      return;\n    }\n    var history = this.state.history;\n    var last = history.shift();\n    var numbers = this.state.numbers;\n    var i = numbers.findIndex((n) => {\n      return (n.value === last.res);\n    });\n    numbers.splice(i, 1);\n    numbers.push({ value: last.i, active: false });\n    numbers.push({ value: last.j, active: false });\n    this.setState({ numbers: this.sortNumbers(numbers), history: history });\n  }\n\n  toggleOp(event) {\n    var idx = parseInt(event.target.value, 10);\n    var ops = [];\n    this.state.ops.forEach((op, i) => {\n      ops.push({\n        op: op.op,\n        active: i === idx ? !op.active : false,\n      });\n    });\n    this.setState({ ops: ops }, this.submitOperation);\n  }\n\n  toggleNumber(event) {\n    var idx = parseInt(event.target.value, 10);\n    let numbers = this.state.numbers.map(e => Object.assign({}, e));\n    if (numbers[idx]) {\n      numbers[idx].active = !numbers[idx].active;\n    }\n    this.setState({ numbers: numbers }, this.submitOperation);\n  }\n\n  submitOperation() {\n    var activeOps = this.state.ops.filter(op => op.active);\n    var activeNumbers = this.state.numbers.filter(num => num.active);\n    if (activeOps.length !== 1 || activeNumbers.length !== 2) {\n      return;\n    }\n    var op = activeOps[0].op;\n    var a = Math.max(...activeNumbers.map(num => num.value));\n    var b = Math.min(...activeNumbers.map(num => num.value));\n    var newVal;\n\n    if (op === '+') {\n      newVal = a + b;\n    } else if (op === '-') {\n      newVal = a - b;\n    } else if (op === '×') {\n      newVal = a * b;\n    } else if (op === '/') {\n      if (a % b  === 0) {\n        newVal = a / b;\n      }\n    }\n\n    if (newVal === undefined) {\n      return;\n    }\n\n    var newNumbers = this.state.numbers.filter(e => !e.active).map(e => Object.assign({}, e));\n    newNumbers.push({ value: newVal, active: false });\n    var history = this.state.history;\n    history.unshift({\n      i: a,\n      j: b,\n      op: op,\n      res: newVal,\n    });\n    if (newVal === this.state.target) {\n      clearInterval(this.timerId);\n    }\n    this.setState({\n      numbers: this.sortNumbers(newNumbers),\n      ops: this.defaultOps(),\n      success: (newVal === this.state.target),\n      history: history,\n    });\n  }\n\n  defaultOps() {\n    return [\n      { op: '+', active: false },\n      { op: '-', active: false },\n      { op: '×', active: false },\n      { op: '/', active: false },\n    ];\n  }\n\n  sortNumbers(nums) {\n    return nums.sort((a, b) => a.value - b.value);\n  }\n\n  randomTarget() {\n    return Math.floor(100 + 900 * Math.random());\n  }\n\n  randomNumbers() {\n    let a = [1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,25,50,75,100];\n    for (let i = a.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let x = a[i];\n      a[i] = a[j];\n      a[j] = x;\n    }\n    return a.slice(0, 6).map(e => ({ value: e, active: false }));\n  }\n\n  _handleShortcuts(action) {\n    if (action.match(/^number\\d$/)) {\n      this.toggleNumber({ target: { value: action.replace('number', '') } });\n    } else if (action.match(/^op\\d$/)) {\n      this.toggleOp({ target: { value: action.replace('op', '') } });\n    } else if (action === 'cancel') {\n      this.cancelLast();\n    }\n  }\n\n  render() {\n    if (!this.state) {\n      return null;\n    }\n    const { solution, success, showSolution } = this.state;\n    return (\n      <Shortcuts name=\"NumbersForm\" handler={this._handleShortcuts.bind(this)} targetNodeSelector=\"body\">\n        <Dcdl />\n        <Grid>\n          <Row>\n            <Col xs={12} sm={6}>\n              <Row>\n                <Col xs={5}>\n                  <br />\n                  <Button bsStyle=\"primary\" onClick={this.init.bind(this)}>Play again</Button>\n                  <h2>Numbers</h2>\n                  <h4>Target: {this.state.target}</h4>\n                </Col>\n                <Col xs={7}>\n                  <br /><br />\n                  <Time initial={this.state.totalTime} value={this.state.timeLeft} />\n                </Col>\n              </Row>\n              <div>\n                { success ?\n                  <h2>Congratulations! <Button bsStyle=\"info\" onClick={this.init.bind(this)}>Play again</Button></h2>\n                  :\n                  <h2>\n                    <NumbersForm {...this.state} toggleOp={this.toggleOp.bind(this)} toggleNumber={this.toggleNumber.bind(this)} />\n                  </h2>\n                }\n              </div>\n              <div>\n                <NumbersHistory history={this.state.history} success={success} cancelLast={this.cancelLast.bind(this)} />\n              </div>\n            </Col>\n            { solution && <Col xs={12} sm={6}>\n              <div>\n                <h4>\n                  <Button bsStyle=\"info\"\n                    onClick={() => this.setState({ showSolution: !showSolution }) }\n                    style={{ marginRight: 20 }}>\n                    Show solution\n                  </Button>\n                  {this.state.timeLeft < 20 && `Best possible: ${solution[solution.length - 1].res}`}\n                </h4>\n              </div>\n              <Collapse in={!!showSolution}>\n                <div>\n                  <NumbersHistory history={solution} success={true} />\n                </div>\n              </Collapse>\n            </Col>}\n          </Row>\n        </Grid>\n      </Shortcuts>\n    );\n  }\n}\n","import React from 'react';\nimport { Button, Col, Grid, Row, FormControl, Form, ControlLabel } from 'react-bootstrap';\nimport { Layer, Stage, Group, Line } from 'react-konva';\n\nimport './Procedural.css';\n\nexport default class Procedural extends React.Component {\n  state = {\n    width: Math.floor(window.innerWidth * 0.8),\n    height: Math.floor(window.innerHeight * 0.7),\n    points: 40,\n    alpha: 0.17,\n    splits: 6,\n    stringDensity: 100,\n    borderWidth: 8,\n    innerBorderWidth: 2,\n    stringsWidth: 1,\n  };\n\n  componentDidMount() {\n    this.setState({ grid: this.grid() });\n  }\n\n  random(a, b) { // int between a and b inclusive\n    return Math.floor(a + (b - a + 1) * Math.random());\n  }\n\n  randomPoint() {\n    return [this.random(0, this.state.width), this.random(0, this.state.height)];\n  }\n\n  grid() {\n    if (this.state.height <= 0 || this.state.width <= 0) {\n      return [];\n    }\n    var initial = [\n      this.random(100 / 3, 2 * 100 / 3),\n      this.random(100 / 3, 2 * 100 / 3),\n    ];\n    var shapes = [\n      [[0, 0], [0, 100], initial],\n      [[0, 100], [100, 100], initial],\n      [[100, 100], [100, 0], initial],\n      [[100, 0], [0, 0], initial],\n    ];\n    for (var j = 0; j < this.state.splits; j++) {\n      shapes = this.insertPoint(shapes);\n      shapes = this.split(shapes);\n    }\n    return shapes;\n    // return shapes.map(s => ({\n    //   strings: this.strings(s),\n    //   border: s,\n    // }));\n  }\n\n  area(shape) {\n    return 0.5 * Math.abs(\n      shape[0][0] * (shape[1][1] - shape[2][1]) +\n      shape[1][0] * (shape[2][1] - shape[0][1]) +\n      shape[2][0] * (shape[0][1] - shape[1][1])\n    );\n  }\n\n  insertPoint(shapes) {\n    shapes.sort((a, b) => {\n      return (this.area(b) - this.area(a));\n    });\n    var idx = 0;\n    var shape = shapes[idx];\n    shapes.splice(idx, 1);\n    var a = Math.random() * (1 - 4 * this.state.alpha) + 2 * this.state.alpha;\n    var b = Math.random() * (1 - a - 2 * this.state.alpha) + this.state.alpha;\n    var c = 1 - a - b;\n    var point = [\n      shape[0][0] * a + shape[1][0] * b + shape[2][0] * c,\n      shape[0][1] * a + shape[1][1] * b + shape[2][1] * c,\n    ];\n    shapes.push(\n      [shape[0], shape[1], point],\n      [shape[1], shape[2], point],\n      [shape[2], shape[0], point],\n    );\n    return shapes;\n  }\n\n  length(a, b) {\n    return Math.sqrt(Math.pow(b[0] - a[0], 2) + Math.pow(b[1] - a[1], 2));\n  }\n\n  maxLength(shape) {\n    return Math.max(\n      this.length(shape[0], shape[1]),\n      Math.max(\n        this.length(shape[1], shape[2]),\n        this.length(shape[2], shape[0]),\n      ),\n    );\n  }\n\n  split(shapes) {\n    shapes.sort((a, b) => {\n      return this.maxLength(b) - this.maxLength(a);\n    });\n    var idx = 0;\n    var shape = shapes[idx];\n    shapes.splice(idx, 1);\n    var a, b, c;\n    if (this.length(shape[0], shape[1]) > this.maxLength(shape) - 1) {\n      a = shape[2];\n      b = shape[1];\n      c = shape[0];\n    } else if (this.length(shape[1], shape[2]) > this.maxLength(shape) - 1) {\n      a = shape[0];\n      b = shape[1];\n      c = shape[2];\n    } else {\n      a = shape[1];\n      b = shape[2];\n      c = shape[0];\n    }\n    var alpha = Math.random() * (1 - 3 * this.state.alpha) + 1.5 * this.state.alpha;\n    var d = [\n      alpha * b[0] + (1 - alpha) * c[0],\n      alpha * b[1] + (1 - alpha) * c[1]\n    ];\n    shapes.push(\n      [a, b, d],\n      [a, c, d],\n    );\n    return shapes;\n  }\n\n  randomColor() {\n    var h = this.random(1, 360);\n    var s = this.random(50, 80);\n    var l = this.random(30, 50);\n    return `hsl(${h},${s}%,${l}%)`;\n  }\n\n  strings(shape) {\n    let a = shape[0], b = shape[1], c = shape[2];\n    var l = Math.sqrt(Math.pow(b[0] - c[0], 2) + Math.pow(b[1] - c[1], 2));\n    var alpha = Math.acos(\n      ((b[0] - a[0]) * (c[0] - a[0]) + (b[1] - a[1]) * (c[1] - a[1])) / Math.abs(\n        this.length(a, b) * this.length(a, c)\n      )\n    );\n    var density = Math.max(3, Math.min(l / 15, alpha * 9));\n    var count = Math.floor(density *\n      this.state.stringDensity *\n      Math.sqrt(this.state.width * this.state.height) / 10000 *\n      (3 + Math.random()) / 3.5);\n\n    var color = this.randomColor();\n\n    return (\n      [...Array(count)].map((el, i) => {\n        var d = [\n          ((i + 1) * b[0] + (count - i) * c[0]) / (count + 1),\n          ((i + 1) * b[1] + (count - i) * c[1]) / (count + 1),\n        ];\n        return {\n          points: [a, d],\n          strokeLinearGradientColorStops: [0, '#555', 0.1, '#555', 0.5, color, 0.9, '#555', 1, '#555'],\n          strokeLinearGradientStartPoint: { x: a[0], y: a[1] },\n          strokeLinearGradientEndPoint: { x: d[0], y: d[1] },\n          strokeWidth: 1,\n        };\n      })\n    );\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.id]: e.target.value });\n  }\n\n  changeAndCompute = (e) => {\n    this.setState(\n      { [e.target.id]: e.target.value },\n      () => this.setState({ grid: this.grid() }),\n    );\n  }\n\n  render() {\n    if (!this.state.grid) {\n      return null;\n    }\n    return (\n      <div>\n        <Grid>\n          <Row>\n            <Col xs={12}>\n              <h2>Triangular art</h2>\n              <Row>\n                <Col xs={8}>\n                  <span>\n                    Inspired from an artwork engraved into wood, gave me the idea to generate\n                    geometric figures and play with HTML canvas.\n                  </span>\n                </Col>\n                <Col xs={4}>\n                  <Button bsStyle=\"primary\" onClick={() => this.setState({ grid: this.grid() })}>Again !</Button>\n                </Col>\n              </Row>\n              <Row>\n                <Form horizontal>\n                  <Col componentClass={ControlLabel} sm={4} md={3} lg={2}>\n                    <ControlLabel>Width</ControlLabel>\n                    <FormControl id=\"width\" onChange={this.handleChange}\n                      type=\"number\" min=\"1\" max=\"10000\" value={this.state.width} />\n                  </Col>\n                  <Col componentClass={ControlLabel} sm={4} md={3} lg={2}>\n                    <ControlLabel>Height</ControlLabel>\n                    <FormControl id=\"height\" onChange={this.handleChange}\n                      type=\"number\" min=\"1\" max=\"10000\" value={this.state.height} />\n                  </Col>\n                  <Col componentClass={ControlLabel} sm={4} md={3} lg={2}>\n                    <ControlLabel>Border width</ControlLabel>\n                    <FormControl id=\"borderWidth\" onChange={this.handleChange}\n                      type=\"number\" min=\"0\" value={this.state.borderWidth} />\n                  </Col>\n                  <Col componentClass={ControlLabel} sm={4} md={3} lg={2}>\n                    <ControlLabel>Triangles border width</ControlLabel>\n                    <FormControl id=\"innerBorderWidth\" onChange={this.handleChange}\n                      type=\"number\" min=\"0\" value={this.state.innerBorderWidth} />\n                  </Col>\n                  <Col componentClass={ControlLabel} sm={4} md={3} lg={2}>\n                    <ControlLabel>Colored strings width</ControlLabel>\n                    <FormControl id=\"stringsWidth\" onChange={this.handleChange}\n                      type=\"number\" min=\"0\" value={this.state.stringsWidth} />\n                  </Col>\n                  <Col componentClass={ControlLabel} sm={4} md={3} lg={2}>\n                    <ControlLabel>String density</ControlLabel>\n                    <FormControl id=\"stringDensity\" onChange={this.handleChange}\n                      type=\"number\" min=\"0\" value={this.state.stringDensity} />\n                  </Col>\n                  <Col componentClass={ControlLabel} sm={4} md={3} lg={2}>\n                    <ControlLabel>Triangle divisions</ControlLabel>\n                    <FormControl id=\"splits\" onChange={this.changeAndCompute}\n                      type=\"number\" min=\"1\" max=\"99\" value={this.state.splits} />\n                  </Col>\n                </Form>\n              </Row>\n            </Col>\n          </Row>\n        </Grid>\n        <Grid fluid={true}>\n          <Row>\n            <Col xs={12}>\n              {this.state.width > 0 && this.state.height > 0 && <Stage\n                style={{ width: '100%' }}\n                width={parseInt(this.state.width)}\n                height={parseInt(this.state.height)}>\n                <Layer>\n                  {this.state.grid.map((shape, i) => {\n                    return (\n                      <Group key={i}>\n                        {this.strings(shape).map((string, i) => <Line key={i}\n                          {...string}\n                          points={string.points.map(e => [\n                            e[0] * this.state.width / 100,\n                            e[1] * this.state.height / 100,\n                          ]).flat()}\n                          strokeLinearGradientStartPoint={{\n                            x: string.points[0][0] * this.state.width / 100,\n                            y: string.points[0][1] * this.state.height / 100,\n                          }}\n                          strokeLinearGradientEndPoint={{\n                            x: string.points[1][0] * this.state.width / 100,\n                            y: string.points[1][1] * this.state.height / 100,\n                          }}\n                          strokeWidth={this.state.stringsWidth} />)}\n                        <Line closed stroke=\"black\"\n                          points={shape.map(e => [\n                            e[0] * this.state.width / 100,\n                            e[1] * this.state.height / 100,\n                          ]).flat()}\n                          strokeWidth={this.state.innerBorderWidth} />\n                      </Group>\n                    );\n                  })}\n                  <Line closed stroke=\"black\"\n                    points={[0,0,0,this.state.height,this.state.width,this.state.height,this.state.width,0]}\n                    strokeWidth={this.state.borderWidth} />\n                </Layer>\n              </Stage>}\n            </Col>\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'react-bootstrap';\nimport { Layer, Stage, Arc, Ring } from 'react-konva';\n\nexport default class Competence extends React.Component {\n  static propTypes = {\n    percent: PropTypes.number,\n    desc: PropTypes.string,\n  };\n\n  render() {\n    var angle = Math.round((360 * this.props.percent / 100) - 90);\n\n    return (\n      <Col xs={4} className=\"text-center\" style={{ paddingRight: 0, paddingLeft: 0 }}>\n        <Stage style={{ margin: 'auto', width: 'fit-content' }} width={40} height={40}>\n          <Layer>\n            <Ring innerRadius={10} outerRadius={15} x={20} y={20} fill=\"#ccc\" />\n            <Arc angle={angle + 90} rotation={-90} innerRadius={10} outerRadius={15} x={20} y={20} fill=\"green\"/>\n          </Layer>\n        </Stage>\n        <div style={{ margin: 'auto', width: 'fit-content', textAlign: 'center' }} dangerouslySetInnerHTML={{ __html: this.props.desc }} />\n      </Col>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, Row, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHome, faPhone, faAt } from '@fortawesome/free-solid-svg-icons';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\nimport Blowfish from 'javascript-blowfish';\nimport queryString from 'query-string';\n\nimport Competence from './Competence';\nimport './Cv.css';\nimport textFr from './fr.json';\nimport textEn from './en.json';\n\nconst translations = { fr: textFr, en: textEn };\n\nexport default class Cv extends React.Component {\n  static propTypes = {\n    location: PropTypes.shape({\n      search: PropTypes.string\n    })\n  };\n\n  validKey() {\n    var bf = new Blowfish(this.key);\n    return (bf.decrypt(atob('ug1IZGf/ZRM=')).replace(/\\0/g, '') === 'valid');\n  }\n\n  address() {\n    var bf = new Blowfish(this.key);\n    var res = [\n      bf.decrypt(atob('9UONn1uavsEpD6xp20Kw+g==')).replace(/\\0/g, ''),\n      bf.decrypt(atob('QhWS8cl5kBBC1EsymLe6HA==')).replace(/\\0/g, ''),\n    ];\n    if (this.lang !== 'fr') {\n      res.push('France');\n    }\n    return res;\n  }\n\n  phoneNumber() {\n    var bf = new Blowfish(this.key);\n    var res = bf.decrypt(atob('JENaEBg9eE/VmFDwpQ8qtB5Kicq9cNIo')).replace(/\\0/g, '');\n    return res;\n  }\n\n  componentDidMount() {\n    document.title = 'CV - Thierry Deo';\n  }\n\n  render() {\n    var values = queryString.parse(this.props.location.search);\n    this.key = (values.key === undefined) ? '' : values.key;\n    this.lang = values.lang;\n    if (translations[this.lang] === undefined) {\n      this.lang = 'fr';\n    }\n    this.data = translations[this.lang];\n\n    return (\n      <div id=\"cv\">\n        <Grid>\n          <Row>\n            <Col xs={12} sm={4} className=\"left-panel\">\n              <Row className=\"narrow\">\n                <Col xs={12}>\n                  <img id=\"picture\" alt=\"\" src={this.data.picture} />\n                  <h3 className=\"text-center\">{this.data.name}</h3>\n                  <h5 className=\"text-center\">{this.data.title}</h5>\n                </Col>\n              </Row>\n\n              <hr />\n\n              <Row className=\"narrow\">\n                <Col xs={12} id=\"contact\">\n                  <small>\n                    {this.validKey() && <p>\n                      {this.address().map((line, i) => {\n                        return (\n                          <span key={i}>\n                            <FontAwesomeIcon className={(i === 0) ? '' : 'invisible'} icon={faHome} /> {line}\n                            <br />\n                          </span>\n                        );\n                      })}\n                    </p>}\n                    {this.validKey() && <p>\n                      <FontAwesomeIcon icon={faPhone} /> {this.phoneNumber()}\n                    </p>}\n                    <p>\n                      <FontAwesomeIcon icon={faAt} /> {this.data.email}\n                    </p>\n                    <p>\n                      <FontAwesomeIcon icon={faGithub} /> {this.data.github}\n                    </p>\n                  </small>\n                </Col>\n              </Row>\n\n              <hr />\n\n              <Row className=\"narrow\">\n                <Col xs={12} className=\"text-justify\">\n                  {this.data.pitch.map((s, i) => <p key={i}>{s}</p>)}\n                </Col>\n              </Row>\n\n              <hr />\n\n              <Row className=\"narrow\">\n                {this.data.languages.map((item, i) => {\n                  return (\n                    <Competence key={i} percent={item.val} desc={item.desc} />\n                  );\n                })}\n              </Row>\n\n              <hr />\n\n              <Row className=\"narrow\">\n                {this.data.skills.map((item, i) => {\n                  return (\n                    <Competence key={i} percent={item.val} desc={item.desc} />\n                  );\n                })}\n              </Row>\n            </Col>\n\n            <Col xs={0} />\n\n            <Col xs={12} sm={8} className=\"right-panel\">\n              <Row>\n                <Col xs={12}><h3>{this.data.pro_exp.title}</h3></Col>\n              </Row>\n\n              {this.data.pro_exp.items.map((item, i) => {\n                return (\n                  <Row className=\"narrow\" key={i}>\n                    <Col xs={12} sm={5}>\n                      <h4 className='small-caps' dangerouslySetInnerHTML={{ __html: item.company }} />\n                    </Col>\n                    <Col sm={7} xs={12}>\n                      <h5 className='place_and_time' dangerouslySetInnerHTML={{ __html: '<place class=\"small-caps\">' + item.place + '</place>&nbsp;-&nbsp;' + item.date }} />\n                    </Col>\n                    <Col xs={12}>\n                      {item.text.map((text, i) => {\n                        return (\n                          <p key={i} dangerouslySetInnerHTML={{ __html: text }} />\n                        );\n                      })}\n                      <ul>\n                        {item.bullets.map((bullet, i) => {\n                          return (\n                            <li key={i} dangerouslySetInnerHTML={{ __html: bullet }} />\n                          );\n                        })}\n                      </ul>\n                    </Col>\n                  </Row>\n                );\n              })}\n\n              <Row>\n                <Col xs={12}><h3>{this.data.education.title}</h3></Col>\n              </Row>\n\n              {this.data.education.items.map((item, i) => {\n                return (\n                  <Row className=\"narrow\" key={i}>\n                    <Col xs={12} sm={9}>\n                      <h4 className='small-caps' dangerouslySetInnerHTML={{ __html: item.school }} />\n                    </Col>\n                    <Col sm={3} xs={12}>\n                      <h5 className='place_and_time' dangerouslySetInnerHTML={{ __html: item.date }} />\n                    </Col>\n                    <Col xs={12}>\n                      {item.text.map((text, i) => {\n                        return (\n                          <p key={i} dangerouslySetInnerHTML={{ __html: text }} />\n                        );\n                      })}\n                    </Col>\n                  </Row>\n                );\n              })}\n\n              <Row>\n                <Col xs={12}><h3>{this.data.interests.title}</h3></Col>\n              </Row>\n\n              <Row className=\"narrow\">\n                <Col xs={12}>\n                  <dl className=\"dl-horizontal\">\n                    {this.data.interests.items.map((item, i) => {\n                      return (\n                        <React.Fragment key={i}>\n                          <dt>{item.name}</dt>\n                          <dd>{item.desc}</dd>\n                        </React.Fragment>\n                      );\n                    })}\n                  </dl>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Col, Grid, Row } from 'react-bootstrap';\n\nexport default class IsItFive extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date(),\n    };\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(() => {\n      this.tick();\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({ date: new Date() });\n  }\n\n  render() {\n    return (\n      <div>\n        <Grid>\n          <Row>\n            <Col sm={12}>\n              <h1>Is it five already?</h1>\n            </Col>\n          </Row>\n          <br />\n          <Row>\n            <Col sm={12}>\n              <h2>\n                { (this.state.date.getHours() >= 17) ? 'Yes, finally!' : 'No, not yet' }\n              </h2>\n            </Col>\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Row, Col, ButtonToolbar, Button } from 'react-bootstrap';\n\nexport default class Connect extends React.Component {\n  render() {\n    if (!this.props.players) {\n      return <div>Waiting for connection...</div>;\n    }\n\n    return <Row>\n      <Col xs={12}>\n        {'Partie en cours : '}\n        {this.props.players.map(p => `${p.name} (${Object.values(p.score).length} tours joués)`).join(', ')}\n      </Col>\n      <Col xs={12}>\n        Je suis :\n        <ButtonToolbar>\n          {this.props.players.map((p, i) => <Button key={i}\n            onClick={() => this.props.wsClient.send(\n              JSON.stringify({ type: 'player', idx: i })\n            )}>\n            {p.name}\n          </Button>)}\n        </ButtonToolbar>\n        <br />\n        <ButtonToolbar>\n          <Button onClick={() => this.props.wsClient.send(\n            JSON.stringify({ type: 'reset' })\n          )}>\n            Recommencer une partie\n          </Button>\n        </ButtonToolbar>\n      </Col>\n    </Row>;\n  }\n}\n","import React from 'react';\nimport { Grid, ButtonToolbar, Button, Row, Col } from 'react-bootstrap';\n\nexport default class Roll extends React.Component {\n  state = { blocked: {} };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentRoll.length === 0) {\n      this.setState({ blocked: {} });\n    }\n  }\n\n  render() {\n    const { currentRoll, currentPlayer, me, wsClient } = this.props;\n\n    let cur = this.props.players.find(e => e.id === currentPlayer);\n\n    if (!currentPlayer) {\n      return <Grid><Row><Col xs={12}>\n        La partie est finie ou on attend encore des joueurs.\n      </Col></Row></Grid>;\n    }\n\n    return <Grid>\n      <Row>\n        {(currentPlayer !== me) && <Col xs={12}>\n          {cur.name} est en train de jouer :\n        </Col>}\n        {currentRoll.map((rolls, i) => <Col key={i} xs={12}>\n          <ButtonToolbar>\n            {rolls.map((r, j) => <Button key={j}\n              className={this.state.blocked[j] ? 'dice dice-blocked' : 'dice'}\n              disabled={i !== currentRoll.length - 1}\n              onClick={() => this.setState({\n                blocked: {\n                  ...this.state.blocked,\n                  [j]: !this.state.blocked[j],\n                }\n              })}>\n              {r}\n            </Button>)}\n          </ButtonToolbar>\n        </Col>)}\n        <Col xs={12}>\n          {(currentRoll.length < 3) && (currentPlayer === me) && <Button onClick={() => wsClient.send(\n            JSON.stringify({ type: 'roll', blocked: this.state.blocked })\n          )}>Lancer</Button>}\n        </Col>\n      </Row>\n    </Grid>;\n  }\n}\n","import React from 'react';\nimport { Table, Button } from 'react-bootstrap';\n\nexport default class Score extends React.Component {\n  numbersTotal = (player) => {\n    return [1,2,3,4,5,6].reduce((acc, i) => (acc + (player.score[i] || 0)), 0);\n  }\n\n  numbersBonus = (player) => {\n    return (this.numbersTotal(player) >= 63) ? 35 : null;\n  }\n\n  numbersGrandTotal = (player) => {\n    return (this.numbersTotal(player) + (this.numbersBonus(player) || 0));\n  }\n\n  downTotal = (player) => {\n    return ['brelan', 'carre', 'full', 'psuite', 'gsuite', 'yahtzee', 'chance'].reduce((acc, i) => acc + (player.score[i] || 0), 0);\n  }\n\n  grandTotal = (player) => {\n    return this.downTotal(player) + this.numbersGrandTotal(player) + (player.score['pYahtzee'] || 0);\n  }\n\n  scoreFor = (cat) => {\n    let roll = this.props.currentRoll[this.props.currentRoll.length - 1];\n    if (!roll) {\n      return;\n    }\n    let h = {};\n    for (let i = 0; i < roll.length; i++) {\n      if (!h[roll[i]]) {\n        h[roll[i]] = 0;\n      }\n      h[roll[i]] += 1;\n    }\n    h = Object.values(h);\n\n\n    if (cat === 'pYahtzee') {\n      return h.includes(5) ? 100 : 0;\n    } else if (cat === 'chance') {\n      return roll.reduce((acc, i) => acc + i, 0);\n    } else if (cat === 'yahtzee') {\n      return h.includes(5) ? 50 : 0;\n    } else if (cat === 'gSuite') {\n      return (roll.includes(2) && roll.includes(3) && roll.includes(4) && roll.includes(5) && roll.includes(6)) ? 40 : 0;\n    } else if (cat === 'pSuite') {\n      return (roll.includes(2) && roll.includes(3) && roll.includes(4) && roll.includes(5) && roll.includes(1)) ? 30 : 0;\n    } else if (cat === 'full') {\n      if (h.includes(2) && h.includes(3)) {\n        return 25;\n      } else if (h.includes(5)) {\n        return 25;\n      }\n      return 0;\n    } else if (cat === 'carre') {\n      return (h.includes(4) || h.includes(5)) ? roll.reduce((acc, i) => acc + i, 0) : 0;\n    } else if (cat === 'brelan') {\n      return (h.includes(3) || h.includes(4) || h.includes(5)) ? roll.reduce((acc, i) => acc + i, 0) : 0;\n    } else {\n      return roll.reduce((acc, i) => acc += (i === cat ? i : 0), 0);\n    }\n  }\n\n  cell = (i, cat) => {\n    let player = this.props.players[i];\n    const { currentPlayer, me, wsClient } = this.props;\n\n    const played = Object.keys(player.score).length;\n\n    if ((player.score[cat] === undefined) &&\n        (player.id === me) &&\n        (currentPlayer === me) &&\n        played < 13) {\n      return <td key={i}>\n        <Button className=\"set-score\" onClick={() => wsClient.send(\n          JSON.stringify({\n            type: 'score',\n            cat: cat,\n            score: this.scoreFor(cat),\n          }))}>\n          {this.scoreFor(cat)}\n        </Button>\n      </td>;\n    } else {\n      return <td key={i}>{player.score[cat]}</td>;\n    }\n  }\n\n  lastCell = (i, cat = 'pYahtzee') => {\n    let player = this.props.players[i];\n    const { currentPlayer, me, wsClient } = this.props;\n\n    const played = Object.keys(player.score).length;\n\n    if ((player.score[cat] === undefined) &&\n        (player.id === me) &&\n        (currentPlayer === me) &&\n        played === 13) {\n      return <td key={i}>\n        <Button className=\"set-score\" onClick={() => wsClient.send(\n          JSON.stringify({\n            type: 'score',\n            cat: cat,\n            score: this.scoreFor(cat),\n          }))}>\n          {this.scoreFor(cat)}\n        </Button>\n      </td>;\n    } else {\n      return <td key={i}>{player.score[cat]}</td>;\n    }\n  }\n\n  render() {\n    const { players } = this.props;\n\n    return <Table striped bordered condensed>\n      <thead>\n        <tr>\n          <th />\n          {players.map((p, i) => <th key={i}>{p.name}</th>)}\n        </tr>\n      </thead>\n      <tbody>\n        {[1,2,3,4,5,6].map(i => <tr key={i}>\n          <td className=\"right\">Total des <b>{i}</b></td>\n          {players.map((p, j) => this.cell(j, i))}\n        </tr>)}\n        <tr>\n          <td className=\"right\"><b>Total</b></td>\n          {players.map((p, i) => <td key={i}>{this.numbersTotal(p)}</td>)}\n        </tr>\n        <tr>\n          <td className=\"right\">63+ : Bonus - <b>35</b></td>\n          {players.map((p, i) => <td key={i}>{this.numbersBonus(p)}</td>)}\n        </tr>\n        <tr>\n          <td className=\"right\"><b>Total</b></td>\n          {players.map((p, i) => <td key={i}>{this.numbersGrandTotal(p)}</td>)}\n        </tr>\n      </tbody>\n\n      <tbody>\n        <tr style={{ backgroundColor: 'initial' }}>\n          <td style={{ border: 'none' }} />\n        </tr>\n      </tbody>\n\n      <tbody>\n        <tr>\n          <td className=\"right\">Brelan - <b>Total des 5 dés</b></td>\n          {players.map((p, i) => this.cell(i, 'brelan'))}\n        </tr>\n        <tr>\n          <td className=\"right\">Carré - <b>Total des 5 dés</b></td>\n          {players.map((p, i) => this.cell(i, 'carre'))}\n        </tr>\n        <tr>\n          <td className=\"right\">Full - <b>25</b></td>\n          {players.map((p, i) => this.cell(i, 'full'))}\n        </tr>\n        <tr>\n          <td className=\"right\">Petite Suite - <b>30</b></td>\n          {players.map((p, i) => this.cell(i, 'pSuite'))}\n        </tr>\n        <tr>\n          <td className=\"right\">Grande Suite - <b>40</b></td>\n          {players.map((p, i) => this.cell(i, 'gSuite'))}\n        </tr>\n        <tr>\n          <td className=\"right\">Yahtzee - <b>50</b></td>\n          {players.map((p, i) => this.cell(i, 'yahtzee'))}\n        </tr>\n        <tr>\n          <td className=\"right\">Chance - <b>Total des 5 dés</b></td>\n          {players.map((p, i) => this.cell(i, 'chance'))}\n        </tr>\n        <tr>\n          <td className=\"right\"><b>Total</b></td>\n          {players.map((p, i) => <td key={i}>{this.downTotal(p)}</td>)}\n        </tr>\n      </tbody>\n\n      <tbody>\n        <tr style={{ backgroundColor: 'initial' }}>\n          <td style={{ border: 'none' }} />\n        </tr>\n      </tbody>\n\n      <tbody>\n        <tr>\n          <td className=\"right\">Prime Yahtzee - <b>100</b></td>\n          {players.map((p, i) => this.lastCell(i, 'pYahtzee'))}\n        </tr>\n      </tbody>\n\n      <tbody>\n        <tr style={{ backgroundColor: 'initial' }}>\n          <td style={{ border: 'none' }} />\n        </tr>\n      </tbody>\n\n      <tbody>\n        <tr>\n          <td className=\"right\"><b>Total</b></td>\n          {players.map((p, i) => <td key={i}>{this.grandTotal(p)}</td>)}\n        </tr>\n      </tbody>\n    </Table>;\n  }\n}\n","import React from 'react';\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\n\nimport Connect from './Connect';\nimport Roll from './Roll';\nimport Score from './Score';\n\nimport './yahtzee.css';\n\nexport default class Yahtzee extends React.Component {\n  state = {};\n\n  componentDidMount() {\n    this.wsClient = new W3CWebSocket('wss://yahtzeee.herokuapp.com');\n\n    this.wsClient.onerror = console.warn;\n\n    this.wsClient.onmessage = (message) => {\n      this.setState(JSON.parse(message.data));\n    };\n    this.wsClient.onclose = () => {\n      window.location.reload();\n    };\n  }\n\n  addPlayer = (name) => {\n    let player = { name, score: {} };\n    this.setState({ players: this.state.players + [player] });\n  }\n\n  render() {\n    if (!this.state.me) {\n      return <Grid>\n        <Connect wsClient={this.wsClient} {...this.state}/>\n      </Grid>;\n    }\n\n    return <Grid>\n      <Row>\n        <Col sm={12} md={6}>\n          <Roll wsClient={this.wsClient} {...this.state} />\n        </Col>\n\n        <Col sm={12} md={6}>\n          <Score wsClient={this.wsClient} {...this.state} />\n        </Col>\n      </Row>\n    </Grid>;\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Col, Grid, Row } from 'react-bootstrap';\n\nexport default class NotFound extends React.Component {\n  render() {\n    return (\n      <div>\n        <Grid>\n          <Row>\n            <Col sm={12} className=\"text-center\">\n              Sorry, this page can&quot;t be found, try going back\n              to the <Link to=\"/\">index</Link>.\n            </Col>\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport { ShortcutManager } from 'react-shortcuts';\nimport * as Sentry from '@sentry/browser';\n\nimport keymap from '../keymap';\nimport './App.css';\n\nimport Navigation from './Navigation';\n// Navbar\nimport Maps from './maps';\nimport DiceIndex from './dice';\nimport Experiments from './Experiments';\n// Experiments\nimport Dcdl from './dcdl';\nimport Numbers from './dcdl/Numbers';\nimport Procedural from './procedural';\n// Other pages\nimport Cv from './cv';\nimport IsItFive from './IsItFive';\nimport Yahtzee from './yahtzee';\n// Not found\nimport NotFound from './NotFound';\n\nconst shortcutManager = new ShortcutManager(keymap);\n\nif (window.location.hostname !== 'localhost') {\n  Sentry.init({\n    dsn: 'https://9cfddc0ec998438095a6f884a1600e51@sentry.io/1309901'\n  });\n}\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({ error });\n    Sentry.withScope(scope => {\n      Object.keys(errorInfo).forEach(key => {\n        scope.setExtra(key, errorInfo[key]);\n      });\n      Sentry.captureException(error);\n    });\n  }\n\n  getChildContext() {\n    return { shortcuts: shortcutManager };\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <Navigation />\n          <Switch>\n            <Route exact path=\"/\" component={Experiments} />\n            <Route path=\"/maps\" component={Maps} />\n            <Route path=\"/dice\" component={DiceIndex} />\n            <Route path=\"/experiments\" component={Experiments} />\n            <Route path=\"/isitfive\" component={IsItFive} />\n            <Route path=\"/dcdl/numbers\" component={Numbers} />\n            <Route path=\"/dcdl\" component={Dcdl} />\n            <Route path=\"/cv\" component={Cv} />\n            <Route path=\"/procedural\" component={Procedural} />\n            <Route path=\"/yahtzee\" component={Yahtzee} />\n            <Route component={NotFound} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nApp.childContextTypes = {\n  shortcuts: PropTypes.object.isRequired\n};\n","export default {\n  NumbersForm: {\n    cancel: 'ctrl+z',\n    number0: '1',\n    number1: '2',\n    number2: '3',\n    number3: '4',\n    number4: '5',\n    number5: '6',\n    op0: '+',\n    op1: '-',\n    op2: '*',\n    op3: '/',\n  },\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}